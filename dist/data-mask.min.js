!function(t,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():t.DataMasker=i()}(this,function(){function t(t){return null!==t&&"string"==typeof t}function i(t){return null!==t&&!isNaN(t)&&isFinite(t)&&"number"==typeof t}function n(t,i){return Array(i+1).join(t)}function r(t){for(var i=new Array(t),n=0;t>n;n++)i[n]=n;return i}function s(t){for(var i,n,s=r(t),o=s.length;0!==o;)n=Math.floor(Math.random()*o),o-=1,i=s[o],s[o]=s[n],s[n]=i;return s}function o(i,n){return t(n)?i.split(n):i.match(new RegExp(".{1,"+Math.floor(n)+"}","g"))}function a(t,i,r,o){if(0===r)return t;if(t.length-r<=0)return n(i,t.length);if(o===m)return n(i,r)+t.substr(r);if(o===l)return t.substr(0,t.length-r)+n(i,r);for(var a="",e=s(t.length).slice(0,r),h=0;h<t.length;h++)a+=e.indexOf(h)>-1?i:t[h];return a}var e="*",h=" ",u=0,l=-1,f=0,m=1,p=function(){function n(i,n){this.maskSource=t(i)?i:"",this.buildParams(n)}return n.prototype.isValidMaskChar=function(i){return t(i)&&1===i.length},n.prototype.isValidDeliminator=function(n){return t(n)&&n.length>0||i(n)&&n>0},n.prototype.isValidRange=function(t){return null!==t&&""!==t&&!isNaN(t)&&isFinite(t)&&t>=0},n.prototype.isValidMaskDirection=function(t){return[l,f,m].indexOf(t)>-1},n.prototype.buildParams=function(t){this.maskOptions=t||{},this.maskOptions.maskChar=this.isValidMaskChar(this.maskOptions.maskChar)||e,this.maskOptions.deliminator=this.isValidDeliminator(this.maskOptions.deliminator)||h,this.maskOptions.range=this.isValidRange(this.maskOptions.range)||u,this.maskOptions.direction=this.isValidMaskDirection(this.maskOptions.direction)||m},n.prototype.mask=function(i,n,r,s){for(var e=this.isValidMaskChar(r)?r:this.maskOptions.maskChar,h=this.isValidDeliminator(n)?n:this.maskOptions.deliminator,l=this.isValidRange(i)?i:this.maskOptions.range,f=this.isValidMaskDirection(s)?s:this.maskOptions.direction,m=o(this.maskSource,h),p=new Array(m.length),c=0;c<m.length;c++){var k=0;0!==m[c].length?(k=l===u?Math.floor(1e6*Math.random())%m[c].length+1:1>l?Math.floor(l*m[c].length):Math.floor(l),p[c]=a(m[c],e,k,f)):p.push(m[c])}return p.join(t(h)?h:"")},n.prototype.maskLeft=function(t,i,n){return this.mask(t,i,n,m)},n.prototype.maskRight=function(t,i,n){return this.mask(t,i,n,l)},n.prototype.maskRandom=function(t,i,n){return this.mask(t,i,n,f)},n}();return p});
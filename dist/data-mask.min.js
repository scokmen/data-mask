!function(t,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():t.DataMasker=i()}(this,function(){function t(t){return null!==t&&"string"==typeof t}function i(t){return null!==t&&!isNaN(t)&&isFinite(t)&&"number"==typeof t}function n(t,i){return Array(i+1).join(t)}function r(t){for(var i=new Array(t),n=0;t>n;n++)i[n]=n;return i}function s(t){for(var i,n,s=r(t),a=s.length;0!==a;)n=Math.floor(Math.random()*a),a-=1,i=s[a],s[a]=s[n],s[n]=i;return s}function a(i,n){return t(n)?i.split(n):i.match(new RegExp(".{1,"+Math.floor(n)+"}","g"))}function o(t,i,r,a){if(0===r)return t;if(t.length-r<=0)return n(i,t.length);if(a===p)return n(i,r)+t.substr(r);if(a===m)return t.substr(0,t.length-r)+n(i,r);for(var o="",e=s(t.length).slice(0,r),u=0;u<t.length;u++)o+=e.indexOf(u)>-1?i:t[u];return o}function e(t,i,n,r,s,a){var o={range:n,deliminator:r,maskChar:s,direction:a};return new k(i,o)[t](n,r,s)}var u="*",h=" ",f=0,m=-1,l=0,p=1,k=function(){function n(i,n){this.maskSource=t(i)?i:"",this.buildParams(n)}return n.prototype.isValidMaskChar=function(i){return t(i)&&1===i.length},n.prototype.isValidDeliminator=function(n){return t(n)&&n.length>0||i(n)&&n>0},n.prototype.isValidRange=function(t){return null!==t&&""!==t&&!isNaN(t)&&isFinite(t)&&t>=0},n.prototype.isValidMaskDirection=function(t){return[m,l,p].indexOf(t)>-1},n.prototype.buildParams=function(t){this.maskOptions=t||{},this.maskOptions.maskChar=this.isValidMaskChar(this.maskOptions.maskChar)||u,this.maskOptions.deliminator=this.isValidDeliminator(this.maskOptions.deliminator)||h,this.maskOptions.range=this.isValidRange(this.maskOptions.range)||f,this.maskOptions.direction=this.isValidMaskDirection(this.maskOptions.direction)||p},n.prototype.mask=function(i,n,r,s){for(var e=this.isValidMaskChar(r)?r:this.maskOptions.maskChar,u=this.isValidDeliminator(n)?n:this.maskOptions.deliminator,h=this.isValidRange(i)?i:this.maskOptions.range,m=this.isValidMaskDirection(s)?s:this.maskOptions.direction,l=a(this.maskSource,u),p=new Array(l.length),k=0;k<l.length;k++){var c=0;0!==l[k].length?(c=h===f?Math.floor(1e6*Math.random())%l[k].length+1:1>h?Math.floor(h*l[k].length):Math.floor(h),p[k]=o(l[k],e,c,m)):p.push(l[k])}return p.join(t(u)?u:"")},n.prototype.maskLeft=function(t,i,n){return this.mask(t,i,n,p)},n.maskLeft=function(t,i,n,r,s){return e("maskLeft",t,i,n,r,s)},n.prototype.maskRight=function(t,i,n){return this.mask(t,i,n,m)},n.maskRight=function(t,i,n,r,s){return e("maskRight",t,i,n,r,s)},n.prototype.maskRandom=function(t,i,n){return this.mask(t,i,n,l)},n.maskRandom=function(t,i,n,r,s){return e("maskRandom",t,i,n,r,s)},n}();return k});
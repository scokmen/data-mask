!function(t,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():t.DataMasker=i()}(this,function(){function t(t){return null!==t&&"string"==typeof t}function i(t,i){var n="";if(0>=i)return n;for(var s=0;i>s;s++)n+=t;return n}function n(t){var i=[];if(0>=t)return i;for(var n=0;t>n;n++)i.push(n);for(var s,r,a=i.length;0!==a;)r=Math.floor(Math.random()*a),a-=1,s=i[a],i[a]=i[r],i[r]=s;return i}function s(t,s,r,a){if(0>=r)return t;if(t.length-r<=0)return i(s,t.length);if(a==u)return i(s,r)+t.substr(r);if(a==e)return t.substr(0,t.length-r)+i(s,r);for(var o="",h=n(t.length).slice(0,r),l=0;l<t.length;l++)o+=h.indexOf(l)>-1?s:t[l];return o}var r="*",a=" ",o=0,e=-1,h=0,u=1,l=function(){function i(i,n){this.maskSource=t(i)?i:"",this.buildParams(n)}return i.prototype.isValidMaskChar=function(i){return t(i)&&1==i.length},i.prototype.isValidDeliminator=function(i){return t(i)&&i.length>0},i.prototype.isValidRange=function(t){return null!==t&&""!==t&&!isNaN(t)&&isFinite(t)&&t>=0},i.prototype.isValidMaskDirection=function(t){return[e,h,u].indexOf(t)>-1},i.prototype.buildParams=function(t){this.maskOptions=t||{},this.maskOptions.maskChar=this.isValidMaskChar(this.maskOptions.maskChar)||r,this.maskOptions.deliminator=this.isValidDeliminator(this.maskOptions.deliminator)||a,this.maskOptions.range=this.isValidRange(this.maskOptions.range)||o,this.maskOptions.direction=this.isValidMaskDirection(this.maskOptions.direction)||u},i.prototype.mask=function(t,i,n,r){for(var a=this.isValidMaskChar(n)?n:this.maskOptions.maskChar,e=this.isValidDeliminator(i)?i:this.maskOptions.deliminator,h=this.isValidRange(t)?t:this.maskOptions.range,u=this.isValidMaskDirection(r)?r:this.maskOptions.direction,l=this.maskSource.split(e),f=[],p=0;p<l.length;p++){var m=0;0!=l[p].length?(m=h==o?Math.floor(1e6*Math.random())%l[p].length+1:1>h?Math.floor(h*l[p].length):h,f.push(s(l[p],a,m,u))):f.push(l[p])}return f.join(e)},i.prototype.maskLeft=function(t,i,n){return this.mask(t,i,n,u)},i.prototype.maskRight=function(t,i,n){return this.mask(t,i,n,e)},i.prototype.maskRandom=function(t,i,n){return this.mask(t,i,n,h)},i}();return l});